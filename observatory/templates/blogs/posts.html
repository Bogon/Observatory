{% extends "base.html" %}

{% block title %}Dashboard â€¢ Posts{% endblock %}

{% block content %}
{% if page %}
    {% autoescape off %}
    <div id="posts-list">
        {% for post in page.object_list %}
        <div class="post" id="post-{{ post.id }}">
            <h2><a href="{% url dashboard.views.blogs.show_post post.id %}">
                {{ post.title }}
            </a></h2>
            
            <a href=
                "{% url dashboard.views.projects.show post.blog.project.id %}">
                {{ post.blog.project.title }}
            </a>
            
            <div class="post-date">{{ post.date }}</div>
            {{ post.summary }}
        </div>
        {% endfor %}
    </div>
    {% endautoescape %}
    
    <div id="pagination-buttons">
        {% if page.has_previous %}
            <a id="pagination-previous"
               href="{% url dashboard.views.blogs.posts_page page.previous_page_number %}">
                Previous Page
            </a>
        {% endif %}
        
        {% if page.has_next %}
            <a id="pagination-next"
               href="{% url dashboard.views.blogs.posts_page page.next_page_number %}">
                Next Page
            </a>
        {% endif %}
{% else %}
    <h2>No posts found.</h2>
{% endif %}
{% endblock %}